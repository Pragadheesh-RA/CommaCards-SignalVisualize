services:
  # ======================
  # Backend API (Node / Express)
  # ======================
  - type: web
    name: signal-visualize-backend
    env: node
    rootDir: server
    plan: free
    buildCommand: npm install
    startCommand: node index.js
    envVars:
      - key: NODE_ENV
        value: production

  # ======================
  # Frontend (Vite + React - Static Site)
  # ======================
  - type: web
    name: signal-visualize-frontend
    env: static
    rootDir: Visualize
    buildCommand: npm install && npm run build
    staticPublishPath: dist
